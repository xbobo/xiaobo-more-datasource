<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <script src="../lib/vue.js"></script>
    <script src="../lib/vue-resource.js"></script>
    <script src="../lib/vue-router.js"></script>
    <link rel="stylesheets" href="../lib/bootstrap.css">
</head>

<body>
    <div id="app">
        <input type="button" value="ref 测试 " ref="mybtn" @click="getsub1">
        <com @func="show" ref="com"></com>
        <div>
            <ul class="list-group">
                <li class="list-group-item" v-for="(item,i) in list" :key="item.name">
                    {{item.name}}----------{{item.content}}
                </li>
            </ul>
        </div>
    </div>
    <template id="temp1">
        <div class="panel">
            <label class="form-control">
                内容： <input type="text" v-model="name">
            </label>
            <label class="form-control">
                发表人：<input type="text" v-model="content">
            </label>
            <input type="button" value="发表" @click="send">
        </div>
    </template>
    <script>
        var com = {
            template: "#temp1",
            data: function () {
                return { name: "", content: "" }
            },
            methods: {
                send: function () {
                    var temp = { id: Date.now(), name: this.name, content: this.content }
                    this.$emit("func", temp)
                },
                getsub: function () {
                    console.log("getsub coming..")
                }
            }
        }
        var vm = new Vue({
            el: "#app",
            data: {
                msg: " vue test ",
                flag: true,
                list: [
                    { id: Date.now(), name: "pc", content: "hao" },
                    { id: Date.now(), name: "web", content: "huai" }
                ]
            },
            methods: {
                show: function (param1, param2) {
                    this.list.unshift(param1);
                    console.log("show coming.." + param1 + "------" + param2)
                   // console.log(this.$refs.mybtn.innterHTML)
                },
                getsub1: function () {
                    //this.$emit("func");
                    console.log("getsub1 coming..")
                    console.log(this.$refs.com.getsub())
                }

            },
            filters: {
                dateformatter: function (input, patter = "") {

                    return "";
                }
            },
            directives: {
                'focus': {
                    bind: function () {

                    },
                    inserted: function (el) {
                        el.focus();
                    }
                }
            },
            components: {
                com: com
            },
            routers: {

            }
        })
    </script>
</body>

</html>