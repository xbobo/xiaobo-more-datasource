<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <script src="../lib/vue.js"></script>
    <script src="../lib/vue-resource.js"></script>
    <script src="../lib/vue-router.js"></script>
    <link rel="stylesheets" href="../lib/bootstrap.css">
</head>

<body>
    <div id="app">{{msg}}
        <input type="text" v-focus />
        <input type="button" value="调用 login subshow 方法 "  @click="flag=!flag">
        <login v-if="flag"  v-bind:parentmsg="msg" @func="show"></login>
        <register v-if="!flag" v-bind:registermsg="msg" @func="show"></register>
    </div>

    <script>
        var login = {
            template: "<div><h3>自定义登录组件{{loginmsg}}----{{parentmsg}}</h3><br><input type='button' value='调用show 方法 '  @click='getmain'></div>",
            data: function () {
                return { loginmsg: "login 组件 loginmsg  " };
            },
            props:['parentmsg'],
            methods:{
                subshow:function(){
                    console.log("subshow coming..") 
                },
                getmain:function(){
                    this.$emit("func",123,"abc")
                    console.log("getmain coming..") 
                }
            }
        }

        var register = {
            template: "<div><h3>自定义 注册 组件{{loginmsg}}----{{registermsg}}</h3></div>",
            data: function () {
                return { loginmsg: "register 组件 loginmsg  " };
            },
            props:['registermsg'],
            methods:{
                register_show:function(){
                    console.log("register_show coming..") 
                },
                register_main:function(){
                    this.$emit("func",123,"abc")
                    console.log("register_main coming..") 
                }
            }
        }
        var vm = new Vue({
            el: "#app",
            data: {
                msg: " vue test ",
                flag:true
            },
            methods: {
                show: function (param1,param2) {
                    console.log("show coming.."+param1+"------"+param2)
                },
                getsub:function(){
                    //this.$emit("func");
                    console.log("getsub coming..")
                }
            },
            filters: {
                dateformatter: function (input, patter = "") {


                    return "";
                }
            },
            directives: {
                'focus': {
                    bind: function () {

                    },
                    inserted: function (el) {
                        el.focus();
                    }
                }
            },
            components: {
                login: login,
                register:register
            },
            routers: {

            }
        })
    </script>
</body>

</html>